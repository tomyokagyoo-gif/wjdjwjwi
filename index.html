<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MedCore – Medical Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#f9fafb;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#6b7280;
  --accent:#2563eb;
  --warn:#dc2626;
}
body{margin:0;font-family:Inter,system-ui;background:var(--bg);color:var(--text)}
header{text-align:center;padding:30px}
header h1{margin:0;font-size:32px}
header p{color:var(--muted)}

.search{max-width:540px;margin:20px auto}
.search input{
  width:100%;padding:16px;border-radius:16px;
  border:1px solid #e5e7eb;font-size:16px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
  gap:24px;padding:30px;max-width:1400px;margin:auto;
}

.card{
  background:var(--card);
  border-radius:20px;
  padding:22px;
  box-shadow:0 10px 30px rgba(0,0,0,.04)
}
.card h3{margin-top:6px}
.tag{
  display:inline-block;font-size:12px;
  color:#2563eb;background:#eff6ff;
  padding:4px 10px;border-radius:999px;margin-bottom:6px;
}
label{font-size:13px;color:var(--muted)}
input,select{
  width:100%;padding:12px;margin:6px 0 12px;
  border-radius:12px;border:1px solid #e5e7eb;
}
button{
  width:100%;padding:14px;border:none;
  border-radius:14px;background:var(--accent);
  color:#fff;font-weight:600;cursor:pointer;
}
.result{margin-top:12px;font-weight:600}
.small{font-size:12px;color:var(--muted);margin-top:4px}
.warn{color:var(--warn);font-weight:600;margin-top:6px}
.copy{margin-top:8px;background:#e5e7eb;color:#000}
</style>
</head>

<body>

<header>
<h1>MedCore</h1>
<p>Professional medical calculators & clinical tools</p>
<div class="search">
<input id="search" placeholder="Search BMI, MAP, SOFA, Renal, ICU..." oninput="filterCards()">
</div>
</header>

<div class="grid">

<!-- BMI -->
<div class="card" data-key="bmi body">
<span class="tag">Body</span>
<h3>BMI</h3>
<label>Weight (kg)</label><input id="bw">
<label>Height (cm)</label><input id="bh">
<button onclick="calcBMI()">Calculate</button>
<div class="result" id="rBMI"></div>
<div class="small">Normal: 18.5 – 24.9</div>
<div class="warn" id="wBMI"></div>
<button class="copy" onclick="copyText('rBMI')">Copy</button>
</div>

<!-- Shock Index -->
<div class="card" data-key="shock index cardio emergency">
<span class="tag">Cardio</span>
<h3>Shock Index</h3>
<label>Heart Rate</label><input id="hr">
<label>Systolic BP</label><input id="sbp">
<button onclick="calcSI()">Calculate</button>
<div class="result" id="rSI"></div>
<div class="small">Normal ≤ 0.7</div>
<div class="warn" id="wSI"></div>
<button class="copy" onclick="copyText('rSI')">Copy</button>
</div>

<!-- MAP -->
<div class="card" data-key="map cardio icu">
<span class="tag">Cardio</span>
<h3>Mean Arterial Pressure</h3>
<label>Systolic BP</label><input id="sbp2">
<label>Diastolic BP</label><input id="dbp2">
<button onclick="calcMAP()">Calculate</button>
<div class="result" id="rMAP"></div>
<div class="small">Normal ≥ 65 mmHg</div>
<div class="warn" id="wMAP"></div>
<button class="copy" onclick="copyText('rMAP')">Copy</button>
</div>

<!-- PaO2 / FiO2 -->
<div class="card" data-key="pafi respiratory icu">
<span class="tag">Respiratory</span>
<h3>PaO₂ / FiO₂</h3>
<label>PaO₂</label><input id="pa">
<label>FiO₂ (%)</label><input id="fio">
<button onclick="calcPF()">Calculate</button>
<div class="result" id="rPF"></div>
<div class="small">Normal > 300</div>
<div class="warn" id="wPF"></div>
<button class="copy" onclick="copyText('rPF')">Copy</button>
</div>

<!-- GCS -->
<div class="card" data-key="gcs coma emergency">
<span class="tag">Emergency</span>
<h3>Glasgow Coma Scale</h3>
<label>Eye</label><input id="e">
<label>Verbal</label><input id="v">
<label>Motor</label><input id="m">
<button onclick="calcGCS()">Calculate</button>
<div class="result" id="rGCS"></div>
<div class="small">Normal: 15</div>
<div class="warn" id="wGCS"></div>
<button class="copy" onclick="copyText('rGCS')">Copy</button>
</div>

<!-- Anion Gap -->
<div class="card" data-key="anion gap acid base">
<span class="tag">Acid–Base</span>
<h3>Anion Gap</h3>
<label>Na⁺</label><input id="na">
<label>Cl⁻</label><input id="cl">
<label>HCO₃⁻</label><input id="hco">
<button onclick="calcAG()">Calculate</button>
<div class="result" id="rAG"></div>
<div class="small">Normal: 8 – 12</div>
<div class="warn" id="wAG"></div>
<button class="copy" onclick="copyText('rAG')">Copy</button>
</div>

<!-- Creatinine Clearance -->
<div class="card" data-key="renal creatinine clearance">
<span class="tag">Renal</span>
<h3>Creatinine Clearance</h3>
<label>Age</label><input id="age">
<label>Weight</label><input id="wt">
<label>Creatinine</label><input id="cr">
<label>Sex</label>
<select id="sex"><option>Male</option><option>Female</option></select>
<button onclick="calcCrCl()">Calculate</button>
<div class="result" id="rCrCl"></div>
<div class="small">Normal ≥ 90 mL/min</div>
<div class="warn" id="wCrCl"></div>
<button class="copy" onclick="copyText('rCrCl')">Copy</button>
</div>

<!-- Pediatric Dose -->
<div class="card" data-key="pediatric dose drug">
<span class="tag">Pediatrics</span>
<h3>Drug Dose (mg/kg)</h3>
<label>Weight</label><input id="wp">
<label>Dose</label><input id="dp">
<button onclick="calcPed()">Calculate</button>
<div class="result" id="rPed"></div>
<div class="small">Check maximum dose</div>
<div class="warn" id="wPed"></div>
<button class="copy" onclick="copyText('rPed')">Copy</button>
</div>

<!-- Unit Converter -->
<!-- MEDICAL UNIT CONVERTER -->
<div class="card" data-key="unit converter lab gas drug fluid">
  <span class="tag">Converter</span>
  <h3>Medical Unit Converter</h3>

  <label>Conversion</label>
  <select id="ctype">
    <optgroup label="Laboratory">
      <option value="glu">Glucose mmol/L → mg/dL</option>
      <option value="cre">Creatinine µmol/L → mg/dL</option>
      <option value="urea">Urea mmol/L → BUN</option>
      <option value="lac">Lactate mmol/L → mg/dL</option>
    </optgroup>

    <optgroup label="Electrolytes">
      <option value="na">Sodium mmol/L → mEq/L</option>
      <option value="k">Potassium mmol/L → mEq/L</option>
      <option value="cl">Chloride mmol/L → mEq/L</option>
    </optgroup>

    <optgroup label="Gas / Pressure">
      <option value="kpa">kPa → mmHg</option>
      <option value="fio2">FiO₂ % → Fraction</option>
    </optgroup>

    <optgroup label="Fluids">
      <option value="mlh">mL/hour → mL/min</option>
      <option value="gtt">Drops/min → mL/hour</option>
    </optgroup>

    <optgroup label="Drugs">
      <option value="ug">µg → mg</option>
      <option value="mg">mg → g</option>
    </optgroup>

    <optgroup label="Temperature">
      <option value="temp">°C → °F</option>
    </optgroup>
  </select>

  <label>Value</label>
  <input id="cval" type="number" step="any">

  <!-- زر مضمون -->
  <button type="button" id="convertBtn">Convert</button>

  <div class="result" id="cres"></div>
  <div class="small" id="cinfo"></div>

  <button type="button" class="copy" onclick="copyText('cres')">Copy</button>
</div>

<script>
function conv(){
  const v = parseFloat(document.getElementById("cval").value);
  const t = document.getElementById("ctype").value;
  const r = document.getElementById("cres");
  const i = document.getElementById("cinfo");

  if(isNaN(v)){
    r.innerText = "";
    i.innerText = "Please enter a value";
    return;
  }

  switch(t){
    case "glu":
      r.innerText = (v*18).toFixed(1)+" mg/dL";
      i.innerText = "Normal fasting: 70–99 mg/dL";
      break;

    case "cre":
      r.innerText = (v/88.4).toFixed(2)+" mg/dL";
      i.innerText = "Normal: ~0.6–1.3 mg/dL";
      break;

    case "urea":
      r.innerText = (v*2.8).toFixed(1)+" mg/dL (BUN)";
      i.innerText = "Normal BUN: 7–20 mg/dL";
      break;

    case "lac":
      r.innerText = (v*9).toFixed(1)+" mg/dL";
      i.innerText = "Normal < 2 mmol/L";
      break;

    case "na":
    case "k":
    case "cl":
      r.innerText = v.toFixed(1)+" mEq/L";
      i.innerText = "mmol/L ≈ mEq/L";
      break;

    case "kpa":
      r.innerText = (v*7.5).toFixed(1)+" mmHg";
      i.innerText = "Normal PaO₂: 80–100 mmHg";
      break;

    case "fio2":
      r.innerText = (v/100).toFixed(2);
      i.innerText = "Room air = 0.21";
      break;

    case "mlh":
      r.innerText = (v/60).toFixed(2)+" mL/min";
      i.innerText = "Infusion rate conversion";
      break;

    case "gtt":
      r.innerText = (v*3).toFixed(0)+" mL/hour";
      i.innerText = "Macrodrip: 20 gtt/mL";
      break;

    case "ug":
      r.innerText = (v/1000).toFixed(3)+" mg";
      i.innerText = "";
      break;

    case "mg":
      r.innerText = (v/1000).toFixed(3)+" g";
      i.innerText = "";
      break;

    case "temp":
      r.innerText = ((v*9/5)+32).toFixed(1)+" °F";
      i.innerText = "Normal body temperature ≈ 37°C";
      break;
  }
}

function copyText(id){
  navigator.clipboard.writeText(document.getElementById(id).innerText);
}

document.getElementById("convertBtn").addEventListener("click", conv);
</script>

</div>

<script>
function filterCards(){
 const q=search.value.toLowerCase();
 document.querySelectorAll(".card").forEach(c=>{
  c.style.display=c.dataset.key.includes(q)?"block":"none";
 });
}
function copyText(id){
 navigator.clipboard.writeText(document.getElementById(id).innerText);
}
function calcBMI(){
 let bmi=(bw.value/((bh.value/100)**2)).toFixed(1);
 rBMI.innerText="BMI: "+bmi;
 wBMI.innerText=bmi>=30?"⚠ Obesity":bmi<18.5?"⚠ Underweight":"";
}
function calcSI(){
 let si=(hr.value/sbp.value).toFixed(2);
 rSI.innerText="Shock Index: "+si;
 wSI.innerText=si>0.9?"⚠ High risk":"";
}
function calcMAP(){
 let map=((+sbp2.value+2*dbp2.value)/3).toFixed(0);
 rMAP.innerText="MAP: "+map;
 wMAP.innerText=map<65?"⚠ Poor perfusion":"";
}
function calcPF(){
 let pf=(pa.value/(fio.value/100)).toFixed(0);
 rPF.innerText="P/F Ratio: "+pf;
 wPF.innerText=pf<200?"⚠ ARDS":"";
}
function calcGCS(){
 let g=+e.value + +v.value + +m.value;
 rGCS.innerText="GCS: "+g+"/15";
 wGCS.innerText=g<=8?"⚠ Severe coma":"";
}
function calcAG(){
 let ag=na.value-cl.value-hco.value;
 rAG.innerText="Anion Gap: "+ag;
 wAG.innerText=ag>12?"⚠ Metabolic acidosis":"";
}
function calcCrCl(){
 let c=((140-age.value)*wt.value)/(72*cr.value);
 if(sex.value==="Female")c*=0.85;
 c=Math.round(c);
 rCrCl.innerText="CrCl: "+c+" mL/min";
 wCrCl.innerText=c<60?"⚠ Renal impairment":"";
}
function calcPed(){
 let d=(wp.value*dp.value).toFixed(1);
 rPed.innerText="Dose: "+d+" mg";
 wPed.innerText=d>1000?"⚠ High dose":"";
}
function conv(){
 let v=parseFloat(cval.value);
 if(isNaN(v)){cres.innerText="";return;}
 if(ctype.value==="glu")cres.innerText=(v*18).toFixed(1)+" mg/dL";
 if(ctype.value==="cre")cres.innerText=(v/88.4).toFixed(2)+" mg/dL";
 if(ctype.value==="kpa")cres.innerText=(v*7.5).toFixed(1)+" mmHg";
 if(ctype.value==="mg")cres.innerText=(v/1000).toFixed(3)+" g";
}
</script>

</body>
</html>